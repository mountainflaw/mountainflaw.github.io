<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Super Mario 64 Source: Super Mario 64</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Super Mario 64 Source
   </div>
   <div id="projectbrief">A Super Mario 64 decompilation, brought to you by a bunch of clever folks.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Super Mario 64 </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This repo contains a full decompilation of Super Mario 64 (J) and (U). The source and data have been decompiled but complete naming and documentation all of the code and data is still a work in progress. Decompiling the (E) ROM is also an ongoing effort.</p>
<p>It builds the following ROMs:</p>
<ul>
<li>sm64.jp.z64 <code>sha1: 8a20a5c83d6ceb0f0506cfc9fa20d8f438cafe51</code></li>
<li>sm64.us.z64 <code>sha1: 9bef1128717f958171a4afac3ed78ee2bb4e86ce</code></li>
</ul>
<p>This repo does not include all assets necessary for compiling the ROMs. A prior copy of the game is required to extract the required assets.</p>
<h2>Installation</h2>
<h3>Linux</h3>
<ol type="1">
<li>For each version (jp/us/eu) that you want to build a ROM for, put an existing ROM at <code>./baserom.&lt;version&gt;.z64</code> for asset extraction.</li>
<li>Install the following packages:</li>
</ol>
<p><b>Debian / Ubuntu</b></p><ul>
<li>git</li>
<li>binutils-mips-linux-gnu / mips64-elf (&gt;= 2.27)</li>
<li>python3 (&gt;= 3.7)</li>
<li>build-essential</li>
<li>pkg-config</li>
<li>zlib1g-dev</li>
<li>libaudiofile-dev</li>
</ul>
<p><b>Arch Linux</b></p><ul>
<li>base-devel</li>
<li>python</li>
<li>audiofile</li>
<li><a href="https://aur.archlinux.org/packages/mips64-elf-binutils">mips64-elf-binutils</a> (AUR)</li>
<li><a href="https://aur.archlinux.org/packages/qemu-irix-git">qemu-irix-git</a> (AUR)</li>
</ul>
<ol type="1">
<li><p class="startli">Install qemu-irix</p>
<p class="startli">a. Options:</p><ol type="a">
<li>Clone <a href="https://github.com/n64decomp/qemu-irix">https://github.com/n64decomp/qemu-irix</a> to somewhere and follow its install instructions in the README.</li>
<li>Optionally, grab the prebuilt qemu-irix from the Releases section.</li>
<li>(Arch) Use AUR package <a href="https://aur.archlinux.org/packages/qemu-irix-git">qemu-irix-git</a></li>
</ol>
<p class="startli">b. (For the first two options), copy executable <code>qemu-irix</code> from irix-linux-user to somewhere convenient with a relatively short path. </p><div class="fragment"><div class="line">mkdir -p /opt/qemu-irix/bin</div><div class="line">cp irix-linux-user/qemu-irix /opt/qemu-irix/bin</div></div><!-- fragment --><p class="startli">c. Define <code>QEMU_IRIX</code> environment variable in your <code>~/.bashrc</code> to point to this qemu-irix executable. </p><div class="fragment"><div class="line">export QEMU_IRIX=/opt/qemu-irix/bin/qemu-irix</div></div><!-- fragment --></li>
<li>Run <code>make</code> to build the ROM (defaults to <code>VERSION=us</code>). Make sure your path to the repo is not too long or else this process will error, as the emulated IDO compiler cannot handle paths longer than 255 characters. Build examples: <div class="fragment"><div class="line">make VERSION=jp -j4       # build (J) version instead with 4 jobs</div><div class="line">make VERSION=eu COMPARE=0 # non-matching EU version still WIP</div></div><!-- fragment --></li>
</ol>
<h2>Windows</h2>
<p>For Windows, install WSL and a distro of your choice and follow the Linux guide.</p>
<h2>Contributing</h2>
<p>Pull requests are welcome. For major changes, please open an issue first to discuss what you would like to change.</p>
<p>Run clang-format on your code to ensure it meets the project's coding standards.</p>
<p>Official discord: <a href="https://discord.gg/27JtCWs">https://discord.gg/27JtCWs</a> </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
