<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Super Mario 64 Source: Bug List</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Super Mario 64 Source
   </div>
   <div id="projectbrief">A Super Mario 64 decompilation, brought to you by a bunch of clever folks.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Bug List </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><dl class="reflist">
<dt><a class="anchor" id="_bug000018"></a>Global <a class="el" href="../../df/d91/objects_8h.html#a63abd5fa0c0685800e8c310102eb2888">apply_to_obj_types_in_group</a>  (s32, applyproc_t, struct <a class="el" href="../../d2/d38/structObjGroup.html" title="This is test documentation comment for ObjGroup. ">ObjGroup</a> *)</dt>
<dd>When <code>group</code> pointer is NULL, garbage is returned, not the count of <code>fn</code> calls  </dd>
<dt><a class="anchor" id="_bug000018"></a>Global <a class="el" href="../../df/d91/objects_8h.html#a63abd5fa0c0685800e8c310102eb2888">apply_to_obj_types_in_group</a>  (s32, applyproc_t, struct <a class="el" href="../../d2/d38/structObjGroup.html" title="This is test documentation comment for ObjGroup. ">ObjGroup</a> *)</dt>
<dd>When <code>group</code> pointer is NULL, garbage is returned, not the count of <code>fn</code> calls  </dd>
<dt><a class="anchor" id="_bug000002"></a>Global <a class="el" href="../../d9/de3/goomba_8inc_8c.html#a97fba1f1ec93c51f2c5bc6f38d26f540">bhv_goomba_update</a>  (void)</dt>
<dd>Weak attacks on huge goombas in a triplet mark them as dead even if they're not.  </dd>
<dt><a class="anchor" id="_bug000001"></a>Global <a class="el" href="../../db/d8c/bbh__merry__go__round_8inc_8c.html#ade7ef078d6d24911ffd6051a4ac235ad">bhv_merry_go_round_loop</a>  (void)</dt>
<dd>Interestingly, this means if Mario goes from outside  </dd>
<dt><a class="anchor" id="_bug000014"></a>Global <a class="el" href="../../d3/df9/dynlist__proc_8c.html#a8895d5ca8d08097a141a0f527cfbe163">chk_shapegen</a>  (struct <a class="el" href="../../d7/da7/structObjShape.html">ObjShape</a> *shape)</dt>
<dd>Call to <code><a class="el" href="../../dc/d4c/bad__declarations_8h.html#a028d252caaa1a8c4cef7fbd712031544">make_face_with_colour()</a></code> compiles incorrectly due to Goddard only declaring the functions, not prototyping the functions  </dd>
<dt><a class="anchor" id="_bug000022"></a>Global <a class="el" href="../../de/d89/renderer_8c.html#a33017ca87dcc21f8be0e5d79f3d1aa5c">create_child_gdl</a>  (s32 id, struct <a class="el" href="../../d6/df0/structGdDisplayList.html">GdDisplayList</a> *srcDl)</dt>
<dd>No return statement, despite return value being used. Goddard lucked out that <code>v0</code> return from <a class="el" href="../../de/d89/renderer_8c.html#a2286c20af80d52ccb8953513000d0097">alloc_displaylist()</a> is not overwriten, as that pointer is what should be returned  </dd>
<dt><a class="anchor" id="_bug000011"></a>Global <a class="el" href="../../dc/d8a/draw__objects_8c.html#a848d492d99e2099fe5676d1c79cd4705">create_shape_gddl</a>  (struct <a class="el" href="../../d7/da7/structObjShape.html">ObjShape</a> *s)</dt>
<dd>Nothing is returned if the DL is created  </dd>
<dt><a class="anchor" id="_bug000012"></a>Global <a class="el" href="../../da/dbd/dynlist__proc_8h.html#aef7ca348b0fa6cdae7cd4a3c5bb2ab9e">d_makeobj</a>  (enum DObjTypes type, DynId id)</dt>
<dd><p class="startdd">Returns garbage when making <code>D_DATA_GRP</code> object </p>
<p class="enddd">When making a <code>D_LABEL</code>, the call to <code><a class="el" href="../../dc/d4c/bad__declarations_8h.html#a07ea98fe965965aa9f15bde55a42220e">make_label()</a></code> compiles incorrectly due to Goddard only declaring the functions, not prototyping the functions  </p>
</dd>
<dt><a class="anchor" id="_bug000015"></a>Global <a class="el" href="../../d3/df9/dynlist__proc_8c.html#aebf8faf4ffcb8022723bf3b99ae04d2b">d_set_matrix</a>  (Mat4f *src)</dt>
<dd>When setting an <code><a class="el" href="../../d9/d37/structObjNet.html">ObjNet</a></code> matrix, the source is copied twice due to a probable copy-paste line repeat error  </dd>
<dt><a class="anchor" id="_bug000010"></a>Global <a class="el" href="../../da/dc8/draw__objects_8h.html#a12fa9c432e7f72d370f2388f314fd2cb">draw_face</a>  (struct <a class="el" href="../../db/d64/structObjFace.html">ObjFace</a> *)</dt>
<dd>This function seems to have some parts based on older versions of <a class="el" href="../../da/d84/structObjVertex.html">ObjVertex</a> as the struct requests fields passed the end of an <a class="el" href="../../da/d84/structObjVertex.html">ObjVertex</a>. The bad code is statically unreachable, so...  </dd>
<dt><a class="anchor" id="_bug000010"></a>Global <a class="el" href="../../da/dc8/draw__objects_8h.html#a12fa9c432e7f72d370f2388f314fd2cb">draw_face</a>  (struct <a class="el" href="../../db/d64/structObjFace.html">ObjFace</a> *)</dt>
<dd>This function seems to have some parts based on older versions of <a class="el" href="../../da/d84/structObjVertex.html">ObjVertex</a> as the struct requests fields passed the end of an <a class="el" href="../../da/d84/structObjVertex.html">ObjVertex</a>. The bad code is statically unreachable, so...  </dd>
<dt><a class="anchor" id="_bug000024"></a>Global <a class="el" href="../../de/d89/renderer_8c.html#a09fe98028c99578c2430a91ecfb3e405">func_801A43F0</a>  (UNUSED const char *menufmt,...)</dt>
<dd>no return; function was stubbed  </dd>
<dt><a class="anchor" id="_bug000019"></a>Global <a class="el" href="../../d6/d85/renderer_8h.html#a39a6bc4cc388150ae9dd613df4f4a5f8">gd_printf</a>  (const char *,...)</dt>
<dd>formatter 'c' uses <code>s32</code> for va_arg instead of <code>char</code>  </dd>
<dt><a class="anchor" id="_bug000019"></a>Global <a class="el" href="../../d6/d85/renderer_8h.html#a39a6bc4cc388150ae9dd613df4f4a5f8">gd_printf</a>  (const char *,...)</dt>
<dd>formatter 'c' uses <code>s32</code> for va_arg instead of <code>char</code>  </dd>
<dt><a class="anchor" id="_bug000020"></a>Global <a class="el" href="../../d6/d85/renderer_8h.html#ad19b232ce6294d589764bb2dc0281d0a">gdm_gettestdl</a>  (s32)</dt>
<dd><p class="startdd">Code treats <code>sYoshiSceneView</code> as group; not called in game though </p>
<p class="enddd">Code treats <code>sCarSceneView</code> as group; not called in game though  </p>
</dd>
<dt><a class="anchor" id="_bug000020"></a>Global <a class="el" href="../../d6/d85/renderer_8h.html#ad19b232ce6294d589764bb2dc0281d0a">gdm_gettestdl</a>  (s32)</dt>
<dd><p class="startdd">Code treats <code>sYoshiSceneView</code> as group; not called in game though </p>
<p class="enddd">Code treats <code>sCarSceneView</code> as group; not called in game though  </p>
</dd>
<dt><a class="anchor" id="_bug000009"></a>Global <a class="el" href="../../d5/d83/star__select_8c.html#ad7229ed0a43ac54ab61c72524675807f">Geo18_80177518</a>  (s16 run, UNUSED struct <a class="el" href="../../d3/d1a/structGraphNode.html">GraphNode</a> *node)</dt>
<dd>Another geo function missing the third param. Harmless in practice due to o32 convention.  </dd>
<dt><a class="anchor" id="_bug000006"></a>Global <a class="el" href="../../df/dd6/rendering__graph__node_8c.html#a9d8d2eb380b9a44c988e2212ee886db6">geo_process_master_list_sub</a>  (struct <a class="el" href="../../d1/da2/structGraphNodeMasterList.html" title="GraphNode that manages the 8 top-level display lists that will be drawn Each list has its own render ...">GraphNodeMasterList</a> *node)</dt>
<dd>This is where the <a class="el" href="../../d4/d94/structLookAt.html">LookAt</a> values should be calculated but aren't. As a result, environment mapping is broken on Fast3DEX2 without the changes below.  </dd>
<dt><a class="anchor" id="_bug000004"></a>Global <a class="el" href="../../db/d81/object__helpers_8c.html#a96ea5c2267e8837471963412a135c8e5">geo_switch_anim_state</a>  (s32 run, struct <a class="el" href="../../d3/d1a/structGraphNode.html">GraphNode</a> *node)</dt>
<dd>Every geo function declares the 3 parameters of run, node, and the matrix array. </dd>
<dt><a class="anchor" id="_bug000005"></a>Global <a class="el" href="../../db/d81/object__helpers_8c.html#a945fa60d9242e3aa20c34500d63495f3">geo_switch_area</a>  (s32 run, struct <a class="el" href="../../d3/d1a/structGraphNode.html">GraphNode</a> *node)</dt>
<dd>Same issue as geo_switch_anim_state.  </dd>
<dt><a class="anchor" id="_bug000007"></a>Global <a class="el" href="../../da/de9/shadow_8c.html#af042a761687e3e605cd97b1a64ba4c9f">get_water_level_below_shadow</a>  (struct <a class="el" href="../../d7/d05/structShadow.html" title="Encapsulation of information about a shadow. ">Shadow</a> *s)</dt>
<dd>Missing return statement. This compiles to return <code>waterLevel</code> incidentally.  </dd>
<dt><a class="anchor" id="_bug000008"></a>Global <a class="el" href="../../da/de9/shadow_8c.html#ac9bc4a94eed5f6d35d37287408e47326">init_shadow</a>  (struct <a class="el" href="../../d7/d05/structShadow.html" title="Encapsulation of information about a shadow. ">Shadow</a> *s, f32 xPos, f32 yPos, f32 zPos, s16 shadowScale, u8 overwriteSolidity)</dt>
<dd>Use of potentially undefined variable <code>waterLevel</code>  </dd>
<dt><a class="anchor" id="_bug000016"></a>Global <a class="el" href="../../df/d91/objects_8h.html#a520844ac2dbbabff581e14c9cdd7b190">make_zone</a>  (struct <a class="el" href="../../d2/d38/structObjGroup.html" title="This is test documentation comment for ObjGroup. ">ObjGroup</a> *, struct <a class="el" href="../../d7/dc4/structGdPlaneF.html">GdPlaneF</a> *, struct <a class="el" href="../../d2/d38/structObjGroup.html" title="This is test documentation comment for ObjGroup. ">ObjGroup</a> *)</dt>
<dd>Created <code><a class="el" href="../../d8/d2d/structObjZone.html">ObjZone</a></code> is not returned  </dd>
<dt><a class="anchor" id="_bug000016"></a>Global <a class="el" href="../../df/d91/objects_8h.html#a520844ac2dbbabff581e14c9cdd7b190">make_zone</a>  (struct <a class="el" href="../../d2/d38/structObjGroup.html" title="This is test documentation comment for ObjGroup. ">ObjGroup</a> *, struct <a class="el" href="../../d7/dc4/structGdPlaneF.html">GdPlaneF</a> *, struct <a class="el" href="../../d2/d38/structObjGroup.html" title="This is test documentation comment for ObjGroup. ">ObjGroup</a> *)</dt>
<dd>Created <code><a class="el" href="../../d8/d2d/structObjZone.html">ObjZone</a></code> is not returned  </dd>
<dt><a class="anchor" id="_bug000003"></a>Global <a class="el" href="../../db/d85/display_8c.html#ad02af013acc09cc8f387c8ab8509bcf4">my_rsp_init</a>  (void)</dt>
<dd>Nintendo did not explicitly define the clipping ratio. For Fast3DEX2, this causes the dreaded warped vertices issue unless the clipping ratio is changed back to the intended value, as Fast3DEX2 uses a different initial value than Fast3D(EX).  </dd>
<dt><a class="anchor" id="_bug000023"></a>Global <a class="el" href="../../de/d89/renderer_8c.html#ae003a72c75cf0bd7bae73f7720e65b0b">setup_view_buffers</a>  (const char *name, struct <a class="el" href="../../d9/d12/structObjView.html">ObjView</a> *view, UNUSED s32 ulx, UNUSED s32 uly, UNUSED s32 lrx, UNUSED s32 lry)</dt>
<dd>No actual return, but the return value is used. There is no obvious value to return. Since the function doesn't use four of its parameters, this function may have had a fair amount of its code commented out. In game, the returned value is always 0, so the fix returns that value  </dd>
<dt><a class="anchor" id="_bug000017"></a>Global <a class="el" href="../../df/d91/objects_8h.html#a23a971cd0baf1a78ed7c71547f8dea38">UnknownRecursive8017E2F0</a>  (struct <a class="el" href="../../dc/d1d/structGdObj.html" title="The base of structure of all of Goddard&#39;s objects. ">GdObj</a> *, enum ObjTypeFlag)</dt>
<dd>Nothing is returned if a <a class="el" href="../../dc/d1d/structGdObj.html" title="The base of structure of all of Goddard&#39;s objects. ">GdObj</a> of <code>type</code> is not found  </dd>
<dt><a class="anchor" id="_bug000017"></a>Global <a class="el" href="../../df/d91/objects_8h.html#a23a971cd0baf1a78ed7c71547f8dea38">UnknownRecursive8017E2F0</a>  (struct <a class="el" href="../../dc/d1d/structGdObj.html" title="The base of structure of all of Goddard&#39;s objects. ">GdObj</a> *, enum ObjTypeFlag)</dt>
<dd>Nothing is returned if a <a class="el" href="../../dc/d1d/structGdObj.html" title="The base of structure of all of Goddard&#39;s objects. ">GdObj</a> of <code>type</code> is not found </dd>
</dl>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
